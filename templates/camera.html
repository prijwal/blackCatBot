<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      .container {
        display: flex;
        height: 100vh;
        width: 100vw;
        justify-content: center;
        align-items: center;
      }
      .left {
        width: 50%;
        height: 100%;
      }
      .right {
        width: 50%;
        height: 100%;
        display: flex;
      }
      #bg {
        margin: auto;
      }
      .btn-box {
        margin: auto;
        position: relative;
        width: 300px;
        height: 300px;
        align-items: center;
        justify-content: center;
      }
      .stop-btn {
        height: 100px;
      }
      .mv-btn {
        height: 100px;
        width: 100px;
        background-color: #000;
      }
      #left {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        margin-top: auto;
        margin-bottom: auto;
        transform: rotate(180deg);
      }
      #right {
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        margin-top: auto;
        margin-bottom: auto;
      }
      #forward {
        position: absolute;
        left: 0;
        right: 0;
        margin-left: auto;
        margin-right: auto;
        transform: rotate(270deg);
      }
      #backward {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        margin-left: auto;
        margin-right: auto;
        transform: rotate(90deg);
      }
      #stop {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        top: 0;
        margin: auto;
      }
      #exit {
        position: absolute;
        right: 0;
        margin: 5px;
        height: 30px;
        width: 40px;
      }

      @media (max-width: 750px) {
        .container {
          flex-direction: column;
        }
        .left {
          width: 100%;
          height: 50%;
        }
        .right {
          width: 100%;
          height: 50%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="left">
        <img id="bg" src="{{ url_for('video_feed') }}" />
      </div>
      <div class="right">
        <svg
          class="logout-btn"
          id="exit"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            d="M15 24H1c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1h14c.6 0 1 .4 1 1v7c0 .6-.4 1-1 1s-1-.4-1-1V2H2v20h12v-6c0-.6.4-1 1-1s1 .4 1 1v7c0 .6-.4 1-1 1z"
          />
          <path
            d="M23 13H8c-.6 0-1-.4-1-1s.4-1 1-1h15c.6 0 1 .4 1 1s-.4 1-1 1z"
          />
          <path
            d="M23 13c-.3 0-.5-.1-.7-.3l-4-4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l4 4c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z"
          />
          <path
            d="M19 17c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l4-4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-4 4c-.2.2-.4.3-.7.3z"
          />
        </svg>
        <div class="btn-box">
          <svg
            class="mv-btn"
            id="left"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="16"
            height="16"
            viewBox="0 0 16 16"
          >
            <defs>
              <linearGradient id="a">
                <stop offset="0" stop-color="#cad1d8" />
                <stop offset="1" stop-color="#babdc1" />
              </linearGradient>
              <linearGradient
                id="b"
                x1="90.002"
                x2="102.01"
                y1="1159.696"
                y2="1159.696"
                gradientTransform="matrix(0 1 1 0 -1152.03 948.356)"
                gradientUnits="userSpaceOnUse"
                xlink:href="#a"
              />
            </defs>
            <path
              style="
                line-height: normal;
                text-indent: 0;
                text-align: start;
                text-decoration-line: none;
                text-decoration-style: solid;
                text-decoration-color: #000;
                text-transform: none;
                block-progression: tb;
                white-space: normal;
                isolation: auto;
                mix-blend-mode: normal;
                solid-color: #000;
                solid-opacity: 1;
              "
              fill="url(#b)"
              fill-rule="evenodd"
              d="m 4.0129566,1039.3873 a 1.0001,1.0001 0 0 1 1.6933,-0.75 l 5.3106004,4.9902 a 1.0001,1.0001 0 0 1 0,1.457 l -5.3106004,4.9903 a 1.0001,1.0001 0 1 1 -1.3691,-1.457 l 4.5351002,-4.2618 -4.5351002,-4.2617 a 1.0001,1.0001 0 0 1 -0.3242,-0.707 z"
              color="#000"
              enable-background="accumulate"
              font-family="sans-serif"
              font-weight="400"
              overflow="visible"
              transform="translate(0 -1036.362)"
            />
          </svg>
          <svg
            class="mv-btn"
            id="right"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="16"
            height="16"
            viewBox="0 0 16 16"
          >
            <defs>
              <linearGradient id="a">
                <stop offset="0" stop-color="#cad1d8" />
                <stop offset="1" stop-color="#babdc1" />
              </linearGradient>
              <linearGradient
                id="b"
                x1="90.002"
                x2="102.01"
                y1="1159.696"
                y2="1159.696"
                gradientTransform="matrix(0 1 1 0 -1152.03 948.356)"
                gradientUnits="userSpaceOnUse"
                xlink:href="#a"
              />
            </defs>
            <path
              style="
                line-height: normal;
                text-indent: 0;
                text-align: start;
                text-decoration-line: none;
                text-decoration-style: solid;
                text-decoration-color: #000;
                text-transform: none;
                block-progression: tb;
                white-space: normal;
                isolation: auto;
                mix-blend-mode: normal;
                solid-color: #000;
                solid-opacity: 1;
              "
              fill="url(#b)"
              fill-rule="evenodd"
              d="m 4.0129566,1039.3873 a 1.0001,1.0001 0 0 1 1.6933,-0.75 l 5.3106004,4.9902 a 1.0001,1.0001 0 0 1 0,1.457 l -5.3106004,4.9903 a 1.0001,1.0001 0 1 1 -1.3691,-1.457 l 4.5351002,-4.2618 -4.5351002,-4.2617 a 1.0001,1.0001 0 0 1 -0.3242,-0.707 z"
              color="#000"
              enable-background="accumulate"
              font-family="sans-serif"
              font-weight="400"
              overflow="visible"
              transform="translate(0 -1036.362)"
            />
          </svg>
          <svg
            class="mv-btn"
            id="forward"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="16"
            height="16"
            viewBox="0 0 16 16"
          >
            <defs>
              <linearGradient id="a">
                <stop offset="0" stop-color="#cad1d8" />
                <stop offset="1" stop-color="#babdc1" />
              </linearGradient>
              <linearGradient
                id="b"
                x1="90.002"
                x2="102.01"
                y1="1159.696"
                y2="1159.696"
                gradientTransform="matrix(0 1 1 0 -1152.03 948.356)"
                gradientUnits="userSpaceOnUse"
                xlink:href="#a"
              />
            </defs>
            <path
              style="
                line-height: normal;
                text-indent: 0;
                text-align: start;
                text-decoration-line: none;
                text-decoration-style: solid;
                text-decoration-color: #000;
                text-transform: none;
                block-progression: tb;
                white-space: normal;
                isolation: auto;
                mix-blend-mode: normal;
                solid-color: #000;
                solid-opacity: 1;
              "
              fill="url(#b)"
              fill-rule="evenodd"
              d="m 4.0129566,1039.3873 a 1.0001,1.0001 0 0 1 1.6933,-0.75 l 5.3106004,4.9902 a 1.0001,1.0001 0 0 1 0,1.457 l -5.3106004,4.9903 a 1.0001,1.0001 0 1 1 -1.3691,-1.457 l 4.5351002,-4.2618 -4.5351002,-4.2617 a 1.0001,1.0001 0 0 1 -0.3242,-0.707 z"
              color="#000"
              enable-background="accumulate"
              font-family="sans-serif"
              font-weight="400"
              overflow="visible"
              transform="translate(0 -1036.362)"
            />
          </svg>
          <svg
            class="mv-btn"
            id="backward"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="16"
            height="16"
            viewBox="0 0 16 16"
          >
            <defs>
              <linearGradient id="a">
                <stop offset="0" stop-color="#cad1d8" />
                <stop offset="1" stop-color="#babdc1" />
              </linearGradient>
              <linearGradient
                id="b"
                x1="90.002"
                x2="102.01"
                y1="1159.696"
                y2="1159.696"
                gradientTransform="matrix(0 1 1 0 -1152.03 948.356)"
                gradientUnits="userSpaceOnUse"
                xlink:href="#a"
              />
            </defs>
            <path
              style="
                line-height: normal;
                text-indent: 0;
                text-align: start;
                text-decoration-line: none;
                text-decoration-style: solid;
                text-decoration-color: #000;
                text-transform: none;
                block-progression: tb;
                white-space: normal;
                isolation: auto;
                mix-blend-mode: normal;
                solid-color: #000;
                solid-opacity: 1;
              "
              fill="url(#b)"
              fill-rule="evenodd"
              d="m 4.0129566,1039.3873 a 1.0001,1.0001 0 0 1 1.6933,-0.75 l 5.3106004,4.9902 a 1.0001,1.0001 0 0 1 0,1.457 l -5.3106004,4.9903 a 1.0001,1.0001 0 1 1 -1.3691,-1.457 l 4.5351002,-4.2618 -4.5351002,-4.2617 a 1.0001,1.0001 0 0 1 -0.3242,-0.707 z"
              color="#000"
              enable-background="accumulate"
              font-family="sans-serif"
              font-weight="400"
              overflow="visible"
              transform="translate(0 -1036.362)"
            />
          </svg>
          <svg
            class="stop-btn"
            id="stop"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
          >
            <path
              d="M15,8H9A1,1,0,0,0,8,9v6a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V9A1,1,0,0,0,15,8Zm-1,6H10V10h4ZM12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"
            />
          </svg>
        </div>
      </div>
    </div>

    <script>
      const serverurl = ``;

      const forwardBtn = document.getElementById("forward");
      const backwardBtn = document.getElementById("backward");
      const leftBtn = document.getElementById("left");
      const rightBtn = document.getElementById("right");
      const stopBtn = document.getElementById("stop");
      const exitBtn = document.getElementById("exit");

      function setDefaultColor() {
        forwardBtn.style.backgroundColor = "#000";
        backwardBtn.style.backgroundColor = "#000";
        rightBtn.style.backgroundColor = "#000";
        leftBtn.style.backgroundColor = "#000";
        stopBtn.style.backgroundColor = "#fff";
      }
      function changeColor(btn) {
        setDefaultColor();
        btn.style.backgroundColor = "#fff";
        btn.style.transition = "1s";
      }

      forwardBtn.addEventListener("click", () => {
        fetch(serverurl.concat("/forward")).then(() =>
          console.log("moved forward")
        );
        changeColor(forwardBtn);
      });

      rightBtn.addEventListener("click", () => {
        fetch(serverurl.concat("/right")).then(() =>
          console.log("moved right")
        );
        changeColor(rightBtn);
      });

      backwardBtn.addEventListener("click", () => {
        fetch(serverurl.concat("/backward")).then(() =>
          console.log("moved backward")
        );
        changeColor(backwardBtn);
      });

      leftBtn.addEventListener("click", () => {
        fetch(serverurl.concat("/left")).then(() => console.log("moved left"));
        changeColor(leftBtn);
      });

      stopBtn.addEventListener("click", () => {
        fetch(serverurl.concat("/stop")).then(() => console.log("stopped"));
        setDefaultColor();
        stopBtn.style.backgroundColor = " rgb(255, 38, 38)";
        stopBtn.style.transition = "1s";
      });

      exitBtn.addEventListener("click", () => {
        fetch(serverurl.concat("/exit")).then(() => console.log("exited"));
      });
    </script>
  </body>
</html>
